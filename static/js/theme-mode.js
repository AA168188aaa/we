!function(){"use strict";var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var e,n,t=(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.clientVersion=n.getClientVersion=n.pageHost=n.isWeGameX=n.isMainland=n.isOversea=n.isProduction=n.isPreRelease=n.isTest=n.isDevelopment=n.isTgpIndependent=n.isWeGameIndependent=n.isTgpCross=n.isWeGameCross=n.isTgpFrame=n.isWeGameFrame=n.isTgpMainTop=n.isWeGameMainTop=n.isTgpMain=n.isWeGameMain=n.isTgp=n.isWeGame=n.isInClient=n.isServer=n.isBrowser=void 0,n.isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,n.isServer=!n.isBrowser&&void 0!==i;var e=function(e){try{return e()}catch(e){return!1}};n.isInClient=n.isBrowser&&window.external&&"function"==typeof window.external.callcpp&&e(function(){return window.top.location.href,!0}),n.isWeGame=n.isInClient,n.isTgp=n.isInClient,n.isWeGameMain=n.isWeGame&&e(function(){return void 0!==window.top.TGP.status}),n.isTgpMain=n.isWeGameMain,n.isWeGameMainTop=n.isWeGameMain&&e(function(){return window.top===window.parent&&window.top!==window}),n.isTgpMainTop=n.isWeGameMainTop,n.isWeGameFrame=n.isWeGameMain&&e(function(){return window.top===window}),n.isTgpFrame=n.isWeGameFrame,n.isWeGameCross=n.isWeGame&&e(function(){return/clienttype=cross/.test(window.location.href)}),n.isTgpCross=n.isWeGameCross,n.isWeGameIndependent=n.isWeGame&&!n.isWeGameMain&&!n.isWeGameCross,n.isTgpIndependent=n.isWeGameIndependent;e=function(){try{return process.env.NODE_ENV}catch(e){return"production"}}();function t(e){if(!n.isBrowser&&!e)return null;e=(e||window.navigator.userAgent).match(/(^| )WeGame\/([^/\s]*)( |$)/);return e&&e[2]?{version:e[2],versionAsNumber:e[2].split(".").reduce(function(e,n,t){return e|Number(n)<<24-8*t},0)}:null}n.isDevelopment="development"===e,n.isTest="test"===e,n.isPreRelease="pre-release"===e||"prerelease"===e,n.isProduction=!n.isDevelopment&&!n.isTest&&!n.isPreRelease,n.isOversea=!1,n.isMainland=!n.isOversea,n.isWeGameX=n.isOversea,n.pageHost=n.isBrowser?window.location.host:process.env.WEGAME_PAGE_HOST,n.getClientVersion=t,n.clientVersion=(t()||{}).versionAsNumber||0}((e={exports:{}},e.exports)),e.exports);(n=t)&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")&&n.default;t.clientVersion,t.getClientVersion,t.pageHost,t.isWeGameX,t.isMainland,t.isOversea,t.isProduction,t.isPreRelease,t.isTest,t.isDevelopment,t.isTgpIndependent,t.isWeGameIndependent,t.isTgpCross,t.isWeGameCross,t.isTgpFrame,t.isWeGameFrame,t.isTgpMainTop,t.isWeGameMainTop,t.isTgpMain;var r,o=t.isWeGameMain;t.isTgp,t.isWeGame,t.isInClient,t.isServer,t.isBrowser;function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(t.push(s.value),!n||t.length!==n);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function c(){try{if("undefined"==typeof window)return{};var e="";return location.search?e=location.search.slice(1):location.hash&&(e=location.hash.split("?")[1]),e.split("&").reduce(function(e,n){var t=s(n.split("="),2),n=t[0],t=t[1];return e[n]=t,e},{})}catch(e){return{}}}function d(e,n){document.cookie="".concat(e,"=").concat(n,";domain=").concat(location.host,";path=/")}function u(e){try{var n=c()[e];if(n)return d(e,n),n;if(n=function(e){if("undefined"!=typeof window&&window.top.__CLIENTINFO__)return window.top.__CLIENTINFO__[e]}(e))return d(e,n),n;if(t=e,n=document.cookie.split(/;\s/).reduce(function(e,n){var t=s(n.split("="),2),n=t[0],t=t[1];return e[n]=t,e},{})[t])return n}catch(e){console.error("[theme-mode] ",e)}var t}function l(e){var n="";e===r.Light?n="light":e===r.Dark&&(n="dark"),"undefined"!=typeof document&&((e=document.querySelector("html")).className=e.className.replace(/\s*(theme-cn-(dark|light))/gi,""),e.className+=n?" theme-cn-"+n:"",(n=u("BGTheme"))&&n.background_color&&(n="#"===n.background_color.substr(0,1)?n.background_color:"#"+n.background_color,document.documentElement.style.setProperty("--color-popbox-mask-fixed",n)))}function p(n){var e;"updateClientStatus"===(null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.cmd)&&(l(n.data.colorMode),(document.querySelectorAll("iframe")||[]).forEach(function(e){null!=e&&e.contentWindow&&e.contentWindow.postMessage(n.data,"*")}))}function m(e){l(null!=e&&e.matches?r.Dark:r.Light)}(g=r=r||{})[g.Light=1]="Light",g[g.Dark=2]="Dark",window.addEventListener("message",p),window.addEventListener("unload",function(){window.removeEventListener("message",p)});var f=Number(u("colorMode")||function(){var e=r.Light;if(o)return e;try{var n=window.matchMedia("(prefers-color-scheme: dark)"),e=n.matches?r.Dark:r.Light;n.addEventListener("change",m),window.addEventListener("unload",function(){n.removeEventListener("change",m)})}catch(e){}return e}()),w=c(),g=w.promote_id||w.promote;g&&(sessionStorage.setItem("promote_id",g),w.promote_id&&sessionStorage.setItem("promote_in_client","1")),"1"===sessionStorage.getItem("promote_in_client")&&(f=r.Dark),l(f)}();
