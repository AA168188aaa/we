import{defineComponent as J,onBeforeUnmount as lt,watchEffect as ct,ref as R,inject as de,onMounted as Me,createApp as ut,createSSRApp as dt,openBlock as v,createElementBlock as b,createElementVNode as a,resolveComponent as Y,createBlock as mt,watch as Ne,toDisplayString as h,unref as f,withModifiers as w,Fragment as $,renderList as H,createCommentVNode as I,computed as pt,normalizeClass as j,resolveDirective as ht,createTextVNode as ee,withDirectives as te,vShow as _t,createVNode as ne,withKeys as se,vModelText as gt,normalizeStyle as ft}from"https://wegame.gtimg.com/g.55555-r.c4663/lib/vue/3.4.31/dist/vue.runtime.esm-browser.prod.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var We="usehead",ke="head:count",re="data-head-attrs",vt=(e,t,n)=>{const r=n.createElement(e);for(const s of Object.keys(t)){let o=t[s];s==="key"||o===!1||(s==="children"?r.textContent=o:r.setAttribute(s,o))}return r},yt=e=>{if(e.key!==void 0)return{name:"key",value:e.key};if(e.name!==void 0)return{name:"name",value:e.name};if(e.property!==void 0)return{name:"property",value:e.property}},bt=()=>{const e=de(We);if(!e)throw new Error("You may forget to apply app.use(head)");return e},wt=["title","meta","link","base","style","script","htmlAttrs","bodyAttrs"],kt=e=>{const t=[];for(const n of Object.keys(e))if(e[n]!=null){if(n==="title")t.push({tag:n,props:{children:e[n]}});else if(n==="base")t.push({tag:n,props:{key:"default",...e[n]}});else if(wt.includes(n)){const r=e[n];Array.isArray(r)?r.forEach(s=>{t.push({tag:n,props:s})}):r&&t.push({tag:n,props:r})}}return t},Se=(e,t)=>{const n=e.getAttribute(re);if(n)for(const s of n.split(","))e.removeAttribute(s);const r=[];for(const s in t){const o=t[s];o!=null&&(o===!1?e.removeAttribute(s):e.setAttribute(s,o),r.push(s))}r.length?e.setAttribute(re,r.join(",")):e.removeAttribute(re)},St=(e,t=window.document)=>{const n=t.head;let r=n.querySelector(`meta[name="${ke}"]`);const s=r?Number(r.getAttribute("content")):0,o=[];if(r)for(let c=0,p=r.previousElementSibling;c<s;c++,p=p.previousElementSibling)p&&o.push(p);else r=t.createElement("meta"),r.setAttribute("name",ke),r.setAttribute("content","0"),n.append(r);const l=[];let i,u={},d={};for(const c of e){if(c.tag==="title"){i=c.props.children;continue}if(c.tag==="htmlAttrs"){Object.assign(u,c.props);continue}if(c.tag==="bodyAttrs"){Object.assign(d,c.props);continue}l.push(vt(c.tag,c.props,t))}o.forEach(c=>{c.remove()}),i!==void 0&&(t.title=i),Se(t.documentElement,u),Se(t.body,d),l.forEach(c=>{n.insertBefore(c,r)}),r.setAttribute("content",""+l.length)},Tt=()=>{let e=[];const t={install(n){n.config.globalProperties.$head=t,n.provide(We,t)},get headTags(){const n=[];return e.forEach(r=>{kt(r.value).forEach(o=>{if(o.tag==="meta"||o.tag==="base"){const l=yt(o.props);if(l){let i=-1;for(let u=0;u<n.length;u++){const d=n[u],c=d.props[l.name],p=o.props[l.name];if(d.tag===o.tag&&c===p){i=u;break}}i!==-1&&n.splice(i,1)}}n.push(o)})}),n},addHeadObjs(n){e.push(n)},removeHeadObjs(n){e=e.filter(r=>r!==n)},updateDOM(n){St(t.headTags,n)}};return t},Et=typeof window<"u",Ot=e=>{const t={title:void 0,htmlAttrs:void 0,bodyAttrs:void 0,base:void 0,meta:[],link:[],style:[],script:[]};for(const n of e){const r=n.type==="html"?"htmlAttrs":n.type==="body"?"bodyAttrs":n.type;if(typeof r!="string"||!(r in t))continue;const s={...n.props,children:Array.isArray(n.children)?n.children[0].children:n.children};Array.isArray(t[r])?t[r].push(s):r==="title"?t.title=s.children:t[r]=s}return t};J({name:"Head",setup(e,{slots:t}){const n=bt();let r;return lt(()=>{r&&(n.removeHeadObjs(r),n.updateDOM())}),()=>(ct(()=>{t.default&&(r&&n.removeHeadObjs(r),r=R(Ot(t.default())),n.addHeadObjs(r),Et&&n.updateDOM())}),null)}});function jt(e){try{return JSON.parse(e||"{}")}catch(t){return console.error("[SSG] On state deserialization -",t,e),{}}}function At(e){return document.readyState==="loading"?new Promise(t=>{document.addEventListener("DOMContentLoaded",()=>t(e))}):Promise.resolve(e)}const Pt=J({setup(e,{slots:t}){const n=R(!1);return Me(()=>n.value=!0),()=>n.value?t.default&&t.default({}):t.placeholder&&t.placeholder({})}});function Ct(e,t,n={}){const{transformState:r,registerComponents:s=!0,useHead:o=!0,rootContainer:l="#app"}=n,i=typeof window<"u";async function u(d=!1){const c=d?ut(e):dt(e);let p;o&&(p=Tt(),c.use(p));const k=[],O={app:c,head:p,isClient:i,router:void 0,routes:void 0,initialState:{},onSSRAppRendered:d?()=>{}:P=>k.push(P),triggerOnSSRAppRendered:()=>Promise.all(k.map(P=>P())),transformState:r};s&&c.component("ClientOnly",Pt),d&&(await At(),O.initialState=r?.(window.__INITIAL_STATE__||{})||jt(window.__INITIAL_STATE__)),await t?.(O);const L=O.initialState;return{...O,initialState:L}}return i&&(async()=>{const{app:d}=await u(!0);d.mount(l,!0)})(),u}var E=null,A=null,Te=["localStorage","userData","globalStorage"],It={localStorage:{test:function(){return!!window.localStorage},init:function(){E=localStorage},get:function(e){return E.getItem(e)},set:function(e,t){return E.setItem(e,t)},del:function(e){return E.removeItem(e)}},userData:{test:function(){return!!window.ActiveXObject},init:function(){E=document.documentElement,E.addBehavior("#default#userdata")},get:function(e){return E.load(e),E.getAttribute(e)},set:function(e,t){return E.load(e),E.setAttribute(e,t),E.save(e)},del:function(e){return E.load(e),E.expires=new Date(315532799e3).toUTCString(),E.save(e)}}};for(var oe=0,Dt=Te.length,A;oe<Dt;oe++)if(A=It[Te[oe]],WEGAME.env.isBrowser&&A&&A.test())try{A.init();break}catch{A=null}A&&(delete A.test,delete A.init);function ie(e,t){A&&A.set(e,t)}function Lt(e){return A.get(e)}var K=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $t(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var s=[null];s.push.apply(s,arguments);var o=Function.bind.apply(t,s);return new o}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var q={},me=typeof window<"u"&&typeof document<"u",pe=!me&&typeof global<"u";function U(e){try{return e()}catch{return!1}}var F=me&&window.external&&typeof window.external.callcpp=="function"&&U(function(){try{return window.top.location.href,!0}catch{return!1}}),Gt=F,V=F&&U(function(){return typeof window.top.TGP.status<"u"}),Ht=V,Be=V&&U(function(){return window.top===window.parent&&window.top!==window}),Rt=Be,qe=V&&U(function(){return window.top===window}),Mt=qe,he=F&&U(function(){return/clienttype=cross/.test(window.location.href)}),Nt=he,Ue=F&&!V&&!he,Wt=Ue,X="production",Fe=X==="development",Ve=X==="test",Ke=X==="pre-release"||X==="prerelease",Bt=!Fe&&!Ve&&!Ke,qt=!1,ze=!1;if(!pe){var Ut=window.location.host;ze=/wegame\.com$/.test(Ut)}var _e=pe||!qt?{}.WEGAME_ENV==="oversea":ze,Ft=!_e,Vt=_e;const Kt=Object.freeze(Object.defineProperty({__proto__:null,isBrowser:me,isDevelopment:Fe,isMainland:Ft,isOversea:_e,isPreRelease:Ke,isProduction:Bt,isServer:pe,isTest:Ve,isTgp:Gt,isTgpCross:Nt,isTgpFrame:Mt,isTgpIndependent:Wt,isTgpMain:Ht,isTgpMainTop:Rt,isWeGame:F,isWeGameCross:he,isWeGameFrame:qe,isWeGameIndependent:Ue,isWeGameMain:V,isWeGameMainTop:Be,isWeGameX:Vt},Symbol.toStringTag,{value:"Module"})),zt=$t(Kt);Object.defineProperty(q,"__esModule",{value:!0});var Ye=zt;function Yt(e){var t=Ye.isBrowser?window.location.host:{}.WEGAME_PAGE_HOST;return{}.WEGAME_PAGE_HOST!=="plat.tgp.qq.com"&&{}.WEGAME_PAGE_HOST!=="game.tgp.qq.com"?e.replace(/\/\/(oss|forum|rail|webd|oper-promot|im|wpicupload|iso)\.tgp\.qq\.com/,"//"+t+"/api/$1").replace(/\/\/api\.(pallas)\.tgp\.qq\.com/,"//"+t+"/api/$1").replace(/\/\/middle\.tgp\.qq\.com/,"//"+t+"/api/middle").replace(/\/\/qt\.qq\.com/,"//"+t+"/api/qt").replace(/\/\/plat\.tgp\.qq\.com/,"//"+t).replace(/\/\/game\.tgp\.qq\.com/,"//"+t):e}function Zt(e){var t=Ye.isBrowser?window.location.host:{}.WEGAME_PAGE_HOST,n=t.indexOf("tgp.qq.com")>=0;if(!n){var r=/\.com\.cn$/.test(t)?"//act.wegame.com.cn":"//act.wegame.com";return e.replace(/\/\/(demo|act)\.tgp\.qq\.com/,r)}return e}function Xt(){return{}.WEGAME_ACCOUNT_TYPE==="2"}function Qt(e){return/^(https?:)?\/\//.test(e)}function Jt(e){return e?Qt(e)?e.replace(/\/\/cdn\.tgp\.qq\.com/,"//"+{}.WEGAME_CDN_HOST).replace(/\/\/wegame\.gtimg\.com/,"//"+{}.WEGAME_CDN_HOST):"//"+{}.WEGAME_CDN_HOST+e:""}var en=q.replaceDomain=Yt;q.replaceActDomain=Zt;q.isOverSeaDomain=Xt;var tn=q.replaceCDNDomain=Jt;function nn(){var e=!1;try{e=top.TGP&&top.TGP.status!=null}catch{}return e}function sn(e){return e=tn(e||""),location.protocol=="https:"?e.replace(/^(http:)?\/\//,"https://"):e}function rn(e,t){let n=document.createElement("a");return n.href=e,t&&(n.hostname=location.hostname),n.href}function on(){const e=window.navigator.userAgent.toLowerCase();return e.indexOf("msie")>-1||e.indexOf("trident")>-1&&e.indexOf("rv:11.0")>-1}const Ze=WEGAME.jsbridge.tgp;function Xe(e){let t=document.createElement("a");return t.href=e,t.href}function Qe(e){e.page&&(e.page=Xe(e.page)),e.page=en(sn(e.page)),nn()?Ze.jump(e):e.page&&(location.href=e.page)}function an(e,t){t&&t.url&&(t.url=Xe(t.url)),WEGAME.env.isWeGameMain?Ze.action(e,t):t.url&&(t.url.indexOf("http")===-1&&t.url.indexOf("//")!==0&&(t.url="http://"+t.url),window.open(t.url,"action"))}function ln(e){e=Object.assign({app:50000013,from:"wegame_store_store_index"},e),Qe(e)}const y={jump:Qe,action:an,goToRankDetail:ln},cn={xmlns:"http://www.w3.org/2000/svg",width:"12",height:"13"},un=a("path",{d:"M2.999 13a1 1 0 1 1 0-2h6a1 1 0 0 1 0 2Zm-2-3a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1Zm3.853-2.618a2.679 2.679 0 0 0 .448.214l.185 1.021 1.309.024.222-1.017a2.579 2.579 0 0 0 .861-.476l.979.349.674-1.12-.77-.7a2.615 2.615 0 0 0 .018-.986l.793-.672-.634-1.144-.99.315a2.59 2.59 0 0 0-.4-.3 2.293 2.293 0 0 0-.446-.212l-.187-1.023-1.309-.022-.222 1.015a2.606 2.606 0 0 0-.861.478l-.979-.351-.674 1.122.769.7a2.562 2.562 0 0 0-.018.983l-.793.674.635 1.144.99-.315a2.864 2.864 0 0 0 .401.301Zm.486-.807a1.676 1.676 0 0 1 .865-3.112 1.676 1.676 0 0 1 1.434 2.538 1.678 1.678 0 0 1-2.3.573Z",fill:"currentColor"},null,-1),dn=[un];function mn(e,t){return v(),b("svg",cn,dn)}const pn={render:mn},Je=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},hn={components:{icon:pn}};function _n(e,t,n,r,s,o){const l=Y("icon");return v(),mt(l)}const gn=Je(hn,[["render",_n]]),fn="custom_json",vn="last_referrer";function yn(e){try{return e()}catch{return!1}}const ge=typeof window<"u",bn=ge&&window.external&&typeof window.external.callcpp=="function"&&yn(function(){try{return window.top.location.href,!0}catch{return!1}});function et(e,t=document.location.href,n){const r=new RegExp(`[?&#]${e}=[^&#?]*`,"igm"),s=t.match(r);if(!s)return e==="from"&&!n?Ee("from"):"";const o=s[0];let l=o.indexOf("="),i=o.substr(l+1,o.length);for(;i.indexOf("<")>=0;)i=i.replace("<","");return i.indexOf("#")>0&&(l=i.indexOf("#"),i=i.substr(0,l)),e==="from"&&!i&&!n&&(i=Ee("from")),i}function Ee(e){let t={};const n=document.referrer;let r=null;if(bn||!sessionStorage)return e?t[e]||"":t;r=sessionStorage.getItem(fn);const s=sessionStorage.getItem(vn);if(r)try{const o=JSON.parse(r);o.path&&(o.path===n||o.path===location.href&&!n||n===location.href&&o.path===s)&&(t=r)}catch{}return e?t[e]||"":t}function tt(e){return e.reduce((t,n)=>(n.game_id&&(t[n.game_id]=n),t),{})}function Oe(e){return e.reduce((t,n)=>t.concat(n),[])}const wn="/api/rail/web/data_filter/game_info/filter",kn="/api/rail/web/data_filter/platform/game_info/by_game_id",Sn="/api/rail/web/data_filter/game_info/by_game_id",Tn="/api/rail/web/data_filter/game_config/batch_query";function nt(e=[]){return Array.from(new Set(e.filter(t=>!isNaN(t)).map(t=>String(t))))}function En(e,t){const{length:n}=e,r=[];for(let s=0;s<n;s+=t)r.push(e.slice(s,s+t));return r}function fe(e){return e?e.language:WEGAME.cookie.get("language")}function ve(e){return WEGAME.baseRequest.railRequest({url:e.url,data:e.options,timeout:e.timeout||3e3,withCredentials:!0}).catch(function(t){return Promise.reject(t)})}function On(e,t,n){n.forEach(function(r){Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})}function jn(){return typeof window<"u"&&window.inUbi}function st(e){if(!e&&!ge)throw new Error("getPreviewToken should accpet a url param for server side invoking");return et("preview_token",e)}function An(e){if(!e&&!ge)throw new Error("isPreview should accpet a url param for server side invoking");return!!st(e)&&et("is_preview",e)*1===1}function Pn(e){return`/api/developer/web_preview/data_filter/game_info/by_game_id?preview_token=${st(e)}`}function Cn(e={},t,n){if(!e.game_ids)return console.error("参数传入有误"),Promise.resolve({items:[]});if(e.game_ids.length<=0||e.game_ids.length>50)return console.error("参数传入有误"),Promise.resolve({items:[]});const r={game_ids:e.game_ids,filters:e.filters||[],stamp:{agent_client_language:e.language||fe(n)},response_format:0},o={url:jn()?kn:Sn,options:r};return An(t)&&(o.url=Pn(t)),ve(o).catch(function(l){return console.error(l),{items:[]}})}function In(e={},t,n,r){if(!Array.isArray(e.game_ids))return console.error("参数传入有误"),Promise.resolve({items:[]});if(e.game_ids=nt(e.game_ids),e.game_ids&&e.game_ids.length===0)return Promise.resolve({items:[]});const s=En(e.game_ids,50);return Promise.all(s.map(o=>Cn({...e,game_ids:o},n,r))).then(o=>({...o[o.length-1],...t?{object:tt(Oe(o.map(l=>l.items)))}:{},items:Oe(o.map(l=>l.items))})).catch(o=>(console.error(o),{items:[]}))}function ye(e={},t,n,r){if(e?.game_ids)return In(e,t,n,r);let s={property:e.property||[],rank_name:e.rank_name===null?null:e.rank_name||"popular_this_week",sort_by_asc:e.sort_by_asc||!1,filters:e.filters||[],keyword:e.keyword||"",search_field:e.search_field||[],tags:e.tags||[],stamp:{agent_client_language:e.language||fe(r)},response_format:0,start_page:e.start_page||0,items_per_pager:Math.min(e.page_size||20,20),search_type:e.search_type||0};if(On(s,e,["filter_filed"]),e.extra_options){const o=e.extra_options;s=Object.assign({},s,o)}return ve({url:wn,options:s}).then(function(o){return t&&o&&o.items&&(o.object=tt(o.items)),o}).catch(function(o){return console.error(o),{items:[]}})}function Dn(e={},t){if(e.command||(e.command="list_all"),e.command!=="list_all"&&(e.command="by_game_id"),!e.tables||!Array.isArray(e.tables))return console.error("参数传入有误"),Promise.resolve({});if(e.tables.forEach(function(s){s.game_ids=nt(s.game_ids)}),!!e.tables.some(s=>s.data_names?(s.start_page=s.start_page||0,s.items_per_pager=s.items_per_pager||50,!1):!0))return console.error("需要传入data_names参数"),Promise.resolve({});const r={command:e.command,params:e.tables,stamp:{agent_client_language:e.language||fe(t)},response_format:0};return ve({url:Tn,options:r}).catch(function(s){return console.error(s),{}})}const Ln="/api/forum/lua/wegame_bizsvr/get_hot_gamesearch",xn=5,$n=10;let z=[];function Gn(e){var t={keyword:e,search_type:1,rank_name:"correlation",filters:["game_name"]};return new Promise(function(n){ye(t).then(function(r){var s=[];if(r.items&&r.items.length>0){for(var o=r.items,l=0;l<o.length;l++)if(s.length<xn){var i=o[l].game_name;s.push({html:'<span class="key-words">'+i+"</span>",result:i})}}n(s)})})}async function Hn(){if(z.length)return z;const e=await WEGAME.baseRequest.baseRequest({url:Ln,param:{count:$n}});if(e&&e.result===0){const{game_list:t}=e;z=t}return z}function Rn(e){const t=WEGAME.env.isBrowser?document.location.search:"";return new URLSearchParams(t).get(e)}const Mn={getUrlPara:Rn};function je(e){return Object.prototype.toString.call(e)==="[object Object]"&&Object.keys(e).length>0}function Nn(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:!n.some(s=>{const o=e[s],l=t[s];return o!==o&&l!==l?!1:o!==l})}function Z(e){if(!je(e))return!1;const t="user_path_track";let n=[];try{let r=sessionStorage.getItem(t);r&&(r=JSON.parse(r),Array.isArray(r)&&(n=r)),n=n.filter(o=>je(o)),(!n.length||!Nn(e,n[0]))&&(n.unshift(e),n=n.slice(0,3),sessionStorage.setItem(t,JSON.stringify(n)))}catch{}}function Wn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var be=Wn,Bn=typeof K=="object"&&K&&K.Object===Object&&K,qn=Bn,Un=qn,Fn=typeof self=="object"&&self&&self.Object===Object&&self,Vn=Un||Fn||Function("return this")(),rt=Vn,Kn=rt,zn=function(){return Kn.Date.now()},Yn=zn,Zn=/\s/;function Xn(e){for(var t=e.length;t--&&Zn.test(e.charAt(t)););return t}var Qn=Xn,Jn=Qn,es=/^\s+/;function ts(e){return e&&e.slice(0,Jn(e)+1).replace(es,"")}var ns=ts,ss=rt,rs=ss.Symbol,ot=rs,Ae=ot,it=Object.prototype,os=it.hasOwnProperty,is=it.toString,W=Ae?Ae.toStringTag:void 0;function as(e){var t=os.call(e,W),n=e[W];try{e[W]=void 0;var r=!0}catch{}var s=is.call(e);return r&&(t?e[W]=n:delete e[W]),s}var ls=as,cs=Object.prototype,us=cs.toString;function ds(e){return us.call(e)}var ms=ds,Pe=ot,ps=ls,hs=ms,_s="[object Null]",gs="[object Undefined]",Ce=Pe?Pe.toStringTag:void 0;function fs(e){return e==null?e===void 0?gs:_s:Ce&&Ce in Object(e)?ps(e):hs(e)}var vs=fs;function ys(e){return e!=null&&typeof e=="object"}var bs=ys,ws=vs,ks=bs,Ss="[object Symbol]";function Ts(e){return typeof e=="symbol"||ks(e)&&ws(e)==Ss}var Es=Ts,Os=ns,Ie=be,js=Es,De=0/0,As=/^[-+]0x[0-9a-f]+$/i,Ps=/^0b[01]+$/i,Cs=/^0o[0-7]+$/i,Is=parseInt;function Ds(e){if(typeof e=="number")return e;if(js(e))return De;if(Ie(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ie(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Os(e);var n=Ps.test(e);return n||Cs.test(e)?Is(e.slice(2),n?2:8):As.test(e)?De:+e}var Ls=Ds,xs=be,ae=Yn,Le=Ls,$s="Expected a function",Gs=Math.max,Hs=Math.min;function Rs(e,t,n){var r,s,o,l,i,u,d=0,c=!1,p=!1,k=!0;if(typeof e!="function")throw new TypeError($s);t=Le(t)||0,xs(n)&&(c=!!n.leading,p="maxWait"in n,o=p?Gs(Le(n.maxWait)||0,t):o,k="trailing"in n?!!n.trailing:k);function _(S){var x=r,N=s;return r=s=void 0,d=S,l=e.apply(N,x),l}function G(S){return d=S,i=setTimeout(P,t),c?_(S):l}function O(S){var x=S-u,N=S-d,we=t-x;return p?Hs(we,o-N):we}function L(S){var x=S-u,N=S-d;return u===void 0||x>=t||x<0||p&&N>=o}function P(){var S=ae();if(L(S))return T(S);i=setTimeout(P,O(S))}function T(S){return i=void 0,k&&r?_(S):(r=s=void 0,l)}function m(){i!==void 0&&clearTimeout(i),d=0,r=u=s=i=void 0}function g(){return i===void 0?l:T(ae())}function M(){var S=ae(),x=L(S);if(r=arguments,s=this,u=S,x){if(i===void 0)return G(u);if(p)return clearTimeout(i),i=setTimeout(P,t),_(u)}return i===void 0&&(i=setTimeout(P,t)),l}return M.cancel=m,M.flush=g,M}var Ms=Rs,Ns=Ms,Ws=be,Bs="Expected a function";function qs(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(Bs);return Ws(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),Ns(e,t,{leading:r,maxWait:t,trailing:s})}var Us=qs;const Fs=xt(Us);var Q=(e=>(e.zh_CN="zh_CN",e.zh_HK="zh_HK",e.en_US="en_US",e))(Q||{});function Vs({locale:e,fallbackLocale:t,messages:n}){let r=e;function s(i,u){return u.split(".").reduce((c,p)=>typeof c=="string"||!c?c||u:c[p],i)}function o(i,u){const d=Math.abs(i);return u===1?0:u===2?d===1?0:1:d===1?1:d?2:0}const l={t(i,u){const d=n[r],c=n[t],p=s(d,i),k=p&&p!==i?p:s(c,i)||i;return u?Object.keys(u).reduce((_,G)=>{const O=new RegExp(`{${G}}`,"g");return _.replace(O,u[G].toString())},k):k},tc(i,u=1,d){const c={n:u,count:u},p=l.t(i,d||c);if(!p||typeof p!="string")return p;const k=p.split("|");return(k[o(u,k.length)]||p).trim()},set locale(i){r=i},get locale(){return r},install(i){i.config.globalProperties.$t=l.t,i.config.globalProperties.$tc=l.tc,i.config.globalProperties.$i18n=l}};return l}const Ks={store:"商店",testing:"测试专区",console:"单机",online:"网游",wings:"翼计划",selection:"精选",allgames:"所有内容",pcAndMobile:"端手互通",searchtag:"搜索内容或标签",MoreGames:"更多内容",hotSearch:"热搜",recentSearch:"最近搜索",clearAll:"清除所有",gameRecommend:"机友安利",categories:"分类导航",menu:{gameCategory:"游戏类型",onlineGames:"大型网游",consoleGames:"单机",rpg:"动作RPG",actionAndAdventure:"冒险RPG",mmorpg:"MMORPG",fps:"FPS",mag:"二次元",gameProps:"游戏特性",mobileCompatible:"端手互通",multiplayer:"多人联机",cloudGame:"云游戏",testzone:"先锋测试",notShareProfit:"千万不分成",rank:"排行榜",hot:"火爆新品",bestseller:"本周热销",popThisWeek:"最高热度",topRated:"口碑佳作",topFollowed:"预约之星",discount:"折扣促销",newTesting:"最新测试",newComing:"新游预告",pop:"大家都在玩",totalGames:"浏览全部游戏 {n} 款",recentPublished:"最新上线"}},zs={store:"商店",testing:"測試專區",console:"單機",online:"網游",wings:"翼計劃",selection:"精選",allgames:"所有內容",pcAndMobile:"端手互通",searchtag:"搜索內容或標籤",MoreGames:"更多內容",hotSearch:"熱搜",recentSearch:"最近搜索",clearAll:"清除所有"},Ys={store:"Store",testing:"Early Test",console:"Console",online:"Online",wings:"Wings Program",selection:"Featured",allgames:"All",pcAndMobile:"PC&Mobile",searchtag:"Search keyword or tag",MoreGames:"More",hotSearch:"Trending",recentSearch:"Recent",clearAll:"Clear Al"},xe={zh_CN:Ks,zh_HK:zs,en_US:Ys},$e=WEGAME.cookie.get("language")||Q.zh_CN,at=Vs({locale:xe[$e]?$e:Q.zh_CN,fallbackLocale:Q.zh_CN,messages:xe});function Zs(e){return e!==void 0&&["2000293","2000444","2000445","2000405","2000408","2000409","2000410","2000417","2000418","2000419","2000420","2000427","2000428","2000476","2000477","2000478","2000412","2000413","2000319","2000475"].indexOf(String(e))>-1}const Xs=["game_id","e_game_name","game_name","name","game_type","top_class","3rd_class","4th_class","category","poster_url_h","poster_h_decorative","poster_url_v","show_prate","is_testing","activity_state","is_wing_project","publish_time","timeline","sub_game_type","release_time","release_time_unsure","disable_independent_sale","prop_mobile","prop_not_share_profit","mobile_app_info","is_big_version","big_version_detail"],Qs=10,Js=[...Xs,"comments","screenshots","banner_icon_url","logo_url","sub_class","tags","testing_state","release_config","master_game_id","latest_purchase_rank","last_purchase_rank","week_recommend_ratio","month_recommend_ratio","total_recommend_ratio","is_mobile_simulator","poster_h_color"];function er(e){const t={rank_name:e.rank_name||"best_seller",start_page:e.start_page||0,page_size:e.page_size||Qs,extra_options:tr(e.rank_name),filters:Js};return e.rank_sub_name&&(t.extra_options.rank_sub_name=e.rank_sub_name),ye(t,!0).then(n=>{if(n.items?.length){const r=n.items.filter(s=>!Zs(s.game_id)).map(s=>({...s,big_version_name:s.is_big_version&&s.big_version_detail?.name||"",belong_to:t.rank_name}));return{...n,res_len:n.items.length,items:r,object:n.object}}return n}).catch(n=>(console.error("get base info failed: ",n),{result:{error_code:1},total_items:0,items:[],object:{}}))}function tr(e){const t={best_seller(){return{list_type:7,only_open_sell:!0,need_hot_rank_compare:!0,need_gray_game:!1}},this_week_most_purchase(){return{list_type:3,need_hot_rank_compare:!0,only_open_sell:!0,need_gray_game:!1}},good_comment(){return{rank_sub_name:"by_month",no_testing_game:!0,list_type:4,only_open_sell:!0,no_closed_game_comment:!0,no_zero_game_comment:!0,need_gray_game:!1}},latest_game(){return{only_open_sell:!0,list_type:4,need_gray_game:!1}},discounts(){return{only_open_sell:!0,need_gray_game:!1}},popular_this_week(){return{list_type:4,need_gray_game:!1}},coming_soon(){return{list_type:6,only_open_sell:!1,need_gray_game:!1,no_testing_game:!0}}};let n={};return e in t&&(n=t[e]()),n}async function nr(){return(await er({rank_name:"popular_this_week",start_page:0,page_size:3})).items.slice(0,3)}async function sr(){try{return(await ye({rank_name:"best_seller",extra_options:{price_range:[0,1e6],not_owned_games:!1},start_page:0,page_size:1})).total_items}catch(e){console.error("fetch total game count failed",e)}return 0}async function rr(){try{const e=await WEGAME.baseRequest.baseRequest({url:"/api/v1/wegame.rail.game.DataFilterCombine/GetRecentGameList",method:"POST",data:{filters:["game_id","game_name","publish_time","release_time_unsure"]}});if(e.result?.error_code)throw new Error(e.result.error_message);return e.item_list.slice(0,3).map(t=>({...t,isPublished:!!t.publish_time&&!t.release_time_unsure&&new Date(t.publish_time.replace(/-/g,"/")).getTime()<=Date.now()}))}catch(e){console.error("fetch nav recent game list failed",e)}return[]}function D(e,t){Z({page:e,block:"header_navigation",report_info:t})}const or={class:"dropdown-menu dropdown-menu-type"},ir={class:"menutype-list"},ar={class:"menutype-list-group"},lr={class:"menutype-list-item headline headline-link label"},cr={class:"menutype-list-link"},ur={class:"menutype-list-link"},dr={class:"menutype-list-link"},mr={class:"menutype-list-link"},pr={class:"menutype-list-link"},hr={class:"menutype-list-link"},_r={class:"menutype-list-link"},gr={class:"menutype-list-link"},fr={class:"menutype-list-group"},vr={class:"menutype-list-item headline headline-link label"},yr={class:"menutype-list-link"},br={class:"menutype-list-link"},wr={class:"menutype-list-link"},kr={class:"menutype-list-link"},Sr=a("i",{class:"menutype-list-arrow"},null,-1),Tr={class:"menutype-list-link"},Er=a("i",{class:"menutype-list-arrow"},null,-1),Or={class:"menutype-list-group"},jr={class:"menutype-list-link"},Ar=a("i",{class:"menutype-list-arrow"},null,-1),Pr={class:"menutype-list-link"},Cr={class:"menutype-list-link"},Ir={class:"menutype-list-link"},Dr={class:"menutype-list-link"},Lr={class:"menutype-list-link"},xr={class:"menutype-list-link"},$r={class:"menutype-list-link"},Gr={class:"menutype-list-group"},Hr={class:"menutype-list-link"},Rr=a("i",{class:"menutype-list-arrow"},null,-1),Mr=["onClick"],Nr={class:"menutype-list-link"},Wr={key:0,class:"menutype-list-tag"},Br={key:0,class:"menutype-list-item headline headline-link label"},qr={class:"menutype-list-link"},Ur=["onClick"],Fr={class:"menutype-list-link"},Vr={class:"dropdown-menutype-link"},Kr={class:"we-button-menutype-inner"},zr={class:"menutype-list-btntext"},Yr=a("i",{class:"menutype-list-arrow"},null,-1),Zr=J({__name:"menu-popover",props:{curPage:{},popoverLoaded:{type:Boolean}},setup(e){const t=e,n=de("report"),r=T=>{D(t.curPage,"goto_search_tag");try{n(["header","goto_search_tag"],{tag:decodeURIComponent(T)},{sendBeacon:!0})}catch{console.error("decode site-header search tag failed")}const m=`/store/games/mars_vars/tag-${T}`;y.jump({app:"50000013",page:m,from:t.curPage})},s=()=>{n(["header","goto_pc_and_mobile"],{},{sendBeacon:!0}),D(t.curPage,"goto_pc_and_mobile"),y.jump({app:"50000013",page:"/rail/wegame_functional_games.html?aid=824",from:t.curPage})},o=()=>{n(["header","goto_not_share_profit"],{},{sendBeacon:!0}),D(t.curPage,"goto_not_share_profit"),y.jump({app:"50000013",page:"/rail/wegame_functional_games.html?aid=825",from:t.curPage})},l=()=>{y.jump({app:"50000019",page:"/rail/wegame_test_index.html",from:t.curPage}),n(["header","goto_testinggame"],{},{sendBeacon:!0})},i=(T="best_seller")=>{n(["header","goto_rank_detail"],{rank:T},{sendBeacon:!0}),D(t.curPage,"goto_rank_detail"),y.goToRankDetail({page:`/rail/rank_detail.html?ranktype=${T==="title"?"best_seller":T}`,from:t.curPage})},u=()=>{n(["header","goto_new_games"],{},{sendBeacon:!0}),D(t.curPage,"goto_new_games"),y.jump({app:"50000013",page:"/rail/new_games.html",from:t.curPage})},d=(T,m)=>{const g=`/store/${T}`;n(["header","goto_game_detail"],{list:m,gameId:T},{sendBeacon:!0}),y.jump({app:"50000013",page:g,from:`${t.curPage}.header_popover.${m}`})},c=()=>{n(["header","goto_allgame"],{},{sendBeacon:!0}),D(t.curPage,"goto_allgame"),y.jump({app:"50000013",page:`/store/games?from=store_index.header.allgame.${t.curPage}`})},p=()=>{n(["header","goto_console_game"],{},{sendBeacon:!0}),D(t.curPage,"goto_console_game"),y.jump({app:"50000013",page:"/rail/console_games.html"})},k=()=>{n(["header","goto_online_game"],{},{sendBeacon:!0}),D(t.curPage,"goto_online_game"),y.jump({app:"50000013",page:"/rail/online_games.html"})},{t:_,tc:G}=at,O=R([]),L=R(0),P=R([]);return Ne(()=>t.popoverLoaded,async()=>{n(["header","popover_exposed"]);const[T,m,g]=await Promise.all([sr(),nr(),rr()]);L.value=T,O.value=m,P.value=g}),(T,m)=>(v(),b("div",or,[a("div",ir,[a("div",ar,[a("div",lr,[a("a",cr,h(f(_)("menu.gameCategory")),1)]),a("div",{class:"menutype-list-item",onClick:w(k,["stop"])},[a("a",ur,h(f(_)("menu.onlineGames")),1)]),a("div",{class:"menutype-list-item",onClick:w(p,["stop"])},[a("a",dr,h(f(_)("menu.consoleGames")),1)]),a("div",{class:"menutype-list-item",onClick:m[0]||(m[0]=w(g=>r(f(_)("menu.rpg")),["stop"]))},[a("a",mr,h(f(_)("menu.rpg")),1)]),a("div",{class:"menutype-list-item",onClick:m[1]||(m[1]=w(g=>r(f(_)("menu.actionAndAdventure")),["stop"]))},[a("a",pr,h(f(_)("menu.actionAndAdventure")),1)]),a("div",{class:"menutype-list-item",onClick:m[2]||(m[2]=w(g=>r(f(_)("menu.mmorpg")),["stop"]))},[a("a",hr,h(f(_)("menu.mmorpg")),1)]),a("div",{class:"menutype-list-item",onClick:m[3]||(m[3]=w(g=>r(f(_)("menu.fps")),["stop"]))},[a("a",_r,h(f(_)("menu.fps")),1)]),a("div",{class:"menutype-list-item",onClick:m[4]||(m[4]=w(g=>r(f(_)("menu.mag")),["stop"]))},[a("a",gr,h(f(_)("menu.mag")),1)])]),a("div",fr,[a("div",vr,[a("a",yr,h(f(_)("menu.gameProps")),1)]),a("div",{class:"menutype-list-item",onClick:m[5]||(m[5]=w(g=>s(),["stop"]))},[a("a",br,h(f(_)("menu.mobileCompatible")),1)]),a("div",{class:"menutype-list-item",onClick:m[6]||(m[6]=w(g=>r("%E4%BA%91%E6%B8%B8%E6%88%8F"),["stop"]))},[a("a",wr,h(f(_)("menu.cloudGame")),1)]),a("div",{class:"menutype-list-item headline headline-link",onClick:m[7]||(m[7]=w(g=>l(),["stop"]))},[a("a",kr,h(f(_)("menu.testzone")),1),Sr]),a("div",{class:"menutype-list-item headline headline-link",onClick:m[8]||(m[8]=w(g=>o(),["stop"]))},[a("a",Tr,h(f(_)("menu.notShareProfit")),1),Er])]),a("div",Or,[a("div",{class:"menutype-list-item headline headline-link",onClick:m[9]||(m[9]=w(g=>i("title"),["stop"]))},[a("a",jr,h(f(_)("menu.rank")),1),Ar]),a("div",{class:"menutype-list-item",onClick:m[10]||(m[10]=w(g=>i("best_seller"),["stop"]))},[a("a",Pr,h(f(_)("menu.hot")),1)]),a("div",{class:"menutype-list-item",onClick:m[11]||(m[11]=w(g=>i("most_follow"),["stop"]))},[a("a",Cr,h(f(_)("menu.topFollowed")),1)]),a("div",{class:"menutype-list-item",onClick:m[12]||(m[12]=w(g=>i("popular_this_week"),["stop"]))},[a("a",Ir,h(f(_)("menu.popThisWeek")),1)]),a("div",{class:"menutype-list-item",onClick:m[13]||(m[13]=w(g=>i("this_week_most_purchase"),["stop"]))},[a("a",Dr,h(f(_)("menu.bestseller")),1)]),a("div",{class:"menutype-list-item",onClick:m[14]||(m[14]=w(g=>i("good_comment"),["stop"]))},[a("a",Lr,h(f(_)("menu.topRated")),1)]),a("div",{class:"menutype-list-item",onClick:m[15]||(m[15]=w(g=>i("discounts"),["stop"]))},[a("a",xr,h(f(_)("menu.discount")),1)]),a("div",{class:"menutype-list-item",onClick:m[16]||(m[16]=w(g=>i("latest_test"),["stop"]))},[a("a",$r,h(f(_)("menu.newTesting")),1)])]),a("div",Gr,[a("div",{class:"menutype-list-item headline headline-link",onClick:m[17]||(m[17]=g=>u())},[a("a",Hr,h(f(_)("menu.newComing")),1),Rr]),(v(!0),b($,null,H(P.value,g=>(v(),b("div",{key:g.game_id,class:"menutype-list-item",onClick:w(M=>d(g.game_id,"new_games"),["stop"])},[a("a",Nr,h(g.game_name),1),g.isPublished?(v(),b("i",Wr,h(f(_)("menu.recentPublished")),1)):I("",!0)],8,Mr))),128)),O.value.length?(v(),b("div",Br,[a("a",qr,h(f(_)("menu.pop")),1)])):I("",!0),(v(!0),b($,null,H(O.value,g=>(v(),b("div",{key:g.game_id,class:"menutype-list-item",onClick:w(M=>d(g.game_id,"popular_this_week"),["stop"])},[a("a",Fr,h(g.game_name),1)],8,Ur))),128))])]),a("div",Vr,[L.value?(v(),b("a",{key:0,href:"javascript:void(0);",class:"we-button-menutype we-button we-button--default",onClick:m[18]||(m[18]=w(g=>c(),["stop"]))},[a("span",Kr,[a("span",zr,h(f(G)("menu.totalGames",L.value)),1),Yr])])):I("",!0)])]))}}),Xr=["href","onClick"],Qr=["src"],Jr=["src"],eo={key:1},to=J({__name:"custom-tabs",props:{tabs:{},curPage:{}},setup(e){const t=e,n=de("report"),r=R(""),s=pt(()=>(t.tabs||[]).filter(i=>{if(!i.valid_time)return!1;const u=Date.now();return u>=new Date(i.valid_time.start_time).getTime()&&u<new Date(i.valid_time.end_time).getTime()}).sort((i,u)=>new Date(u.item_update_time).getTime()-new Date(i.item_update_time).getTime()).slice(0,1).map(i=>({...i,isCur:!!i.link_url&&i.link_url===r.value,isImageTab:i.tab_type==="image",imageSrcLight:WEGAME.env.isWeGame?`${i.tab_image_light}?nosharpp=1`:i.tab_image_light,imageSrcDark:WEGAME.env.isWeGame?`${i.tab_image_dark}?nosharpp=1`:i.tab_image_dark})));Ne(()=>t.tabs,l=>{l.forEach(i=>{n(["header","custom_nav_expose"],{url:i.link_url})})}),Me(()=>{r.value=location.href});const o=l=>{const{link_url:i,app_id:u}=l;n(["header","goto_custom_nav"],{url:i}),D(t.curPage,"goto_custom_nav"),y.jump({app:u||"50000013",page:i})};return(l,i)=>(v(!0),b($,null,H(s.value,(u,d)=>(v(),b("li",{key:d,class:j(["main-nav-item",{cur:u.isCur}])},[a("a",{href:u.link_url,class:j({"main-nav-img":u.isImageTab}),onClick:w(c=>o(u),["prevent"])},[u.isImageTab?(v(),b($,{key:0},[u.imageSrcLight?(v(),b("img",{key:0,src:u.imageSrcLight,class:"image-theme-light",alt:"tab-image"},null,8,Qr)):I("",!0),u.imageSrcDark?(v(),b("img",{key:1,src:u.imageSrcDark,class:"image-theme-dark",alt:"tab-image"},null,8,Jr)):I("",!0)],64)):(v(),b("span",eo,h(u.tab_name),1))],10,Xr)],2))),128))}});function no({jump_url:e,jump_url_type:t,jump_appid:n}){switch(t){case"new_wegame_window":WEGAME.redirect({url:e,newWindow:!0});break;case"direct":{const r={url:e};n&&Number(n)!==0&&(r.appid=n),WEGAME.redirect(r)}break;default:window.open(e);break}}const so="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAApCAYAAABk+TodAAAABHNCSVQICAgIfAhkiAAABHhJREFUaEPtmm9oVWUcx78HNtyQNCq2ORErovYi0RRkzCRkgvViCb2QKH2lokxwvkjTQUMSWmr5l8mEFYIEKqHYEEmciujUV7OcuI3h1NTpcssUXaVy+n3vw4/z3HvPOfdcnW6e+cBg9z7nOef3eX7/n3MdyHArUYRcNMBFKRy8yu+e++GiVxiO4xEWOnXodRKQOWgRwKLnHs4PwEUXHqLMcauwU+bnxhJSoVzsIuh1+Twm1qDANYK6MYdM4L0AxYL9QPFEYM8ioO3XaEqvuQS8Mt5c29EEtB8GZq4EDn8LNMnfIA5/jdoC97QD35REE9Fe13fZg374L/DzEuD0D0DFWqB8RfD9uEHbZgKbsvSoZU6ojP6gc+qBMtGkjtZfgIbZmWFTNTpSUvLYSWYdwb9+fYiBUrDqNqDgHSMkNXJwdWbzSwWlZpa3AKOKgWMbzfpyMeVpi8191cz5/90e4EE/0HUS2Pn5M9IoH1wyCwk/zRkhD28Gus8lazmzftOvULPUGds8m9YBjV8+zl0jrQmPuvQnDgqQybeiPG7IgtrCxw7U9jMFTdVEkPYqJZ28XW5mo6wZVNMdCqDZphbd+BA/T/fRgQLVdOKn/TAQChuWZ8NiQVageiO/VBEmIMFudXqmG2tQ5sApn5mtCgPlJnL45dGTUqxouWhvtmrLTwERIn5wenkcjbbs9swuDDRqHh00UBUwKLqmpqAM9WdSPevnX0MWlOVdRa1nSE8K+t0/pjJLFC2rjEk/E9PNpFHO2wFr1wLTsQSNsDxaOh/4tCF905466JH1wKwaYPM0IKww8BN+zU3g8mmAXZANbl977SyQm2/A2Bayzn73Y/OZBf9Xheb/pwrKov61t0x3wVYrDJRQLxUYobS9UyAGKEbV4gkSceU+b5Sl61qDWO1tIH+0mefzucFBoOyQ/rsPnPkx0IKiRV0Vp/9vYNXLyaDaXuXL983bgQnSt2p7Ry21HfIiMQXmZmmZ6GfSBLXTFK9R/wwC1Y0MKTuzA+WDCFPyYXIOVIEZOQvF7GyT65D6V3MrNXynO73d42ax2GAryM38oMoLQqlpKiztDQgom2+NgH6a4HcEvf9XcuSl4GqCnP+zA5j9PXDjvAH7fZ93JsWo/dHq5Oekph0blBbS2ug9L+sS0G66CaAnDHbqUFjO9V0CeLZ0YpsR2vYv+7ov8oK2yPS7tiZTfVNXVkn15efbnK8XSws4yAs2XQ0qNKsD1cbJuZuj5M2FgnWd8j9emfeTZ64qoB1QgnAZVPSMif69/r30K/3uzasyVGLBoNTqJ5uBveIvukvMbWF50RaLkfnN940ZUuhGMcsox6Y8q7p91ZwEBg1qddyUZD+2a2SfdcPjANvFleECWjccQDsxApPjDHpBXp/tcLZAclrQSyYXzbiDcmcHpH2Ix0jXqIvfkIfpzjrcjQeioUgFvSivwafynX+cIJNBXXnznYNSZwP+iBukB8pfcDySHzTUQQrReA7HXYp7Ep3KnK3imzEeBJ0hIfhojBkTaP8DvvCVEuDZ/wgAAAAASUVORK5CYII=";let Ge="";function He(e){return e?Number(new Date(e.replace(/-/g,"/"))):0}const le="mini-menu",Re=WEGAME.report.init({main:"wegame_store",sub:"site_header",keys:["block","action","ext1","ext2"]}),ro={name:"SiteHeader",components:{WallpaperIcon:gn,MenuPopover:Zr,CustomTabs:to},provide(){return{report:Re}},data(){return{cur:-1,curPage:"",act:!1,bgIsLoaded:!1,resp:{},tagList:[],operationList:[],language:{},loading:!0,showTagList:!1,keyWord:"",keyWordObj:{result:""},hasOssSearchTag:!1,searchtag:{},defaultSearch:"",items:[],remainSearchList:[],searchHistory:[],hotSearchList:[],customSearch:[],hasFocus:!1,isShowDropDown:!1,isInit:!0,isWeGame:WEGAME.env.isWeGame,focusIndex:-1,typeMode:0,lastTypeKeyword:"",navIcons:{},needMiniMenuClass:!1,popoverLoaded:!1,popoverLoadTimer:null}},computed:{tagShow(){return this.showTagList&&this.tagList.length>0},hasOperationList(){return this.operationList.length>0}},watch:{act(){this.$nextTick(()=>{this.bindScrollListener()})},keyWord(e){const t={result:e,url:null,custom:null};this.remainSearchList.every(r=>this.keyWord===r.result&&r.url?(t.url=r.url,!1):!0);const[n]=this.customSearch.filter(r=>r.words.includes(e));if(n){const{jump_url:r,jump_url_type:s,jump_appid:o}=n;t.custom={jump_url:r,jump_url_type:s,jump_appid:o}}if(this.keyWordObj=t,this.typeMode===1){this.typeMode=0;return}this.lastTypeKeyword=e,this.focusIndex=-1,WEGAME.env.isBrowser&&(clearTimeout(Ge),Ge=setTimeout(()=>{this.items=[],e!==""&&Gn(e).then(r=>{this.items=r;const s=new RegExp(`(${this.keyWord})`,"ig");this.remainSearchList.forEach(o=>{if(o.result.indexOf(this.keyWord)>-1&&o.url){const l=Object.assign({},o);l.html=l.html.replace(s,'<span class="key-words">$1</span>'),this.items.push(l)}})})},200))},bgIsLoaded(e){e&&this.frWrapperOb&&(this.frWrapperOb.disconnect(),this.frWrapperOb=null)}},mounted(){this.report=Re,this.computeCur(),this.checkHasAct(),this.bindScrollListener(),this.isWeGame||document.body.classList.add("page-out-client"),this.loadData().then(e=>{this.init(e),this.loading=!1}).catch(e=>{console.error(e),this.loading=!1}),Hn().then(e=>{this.initHotRecommend(e)}),window.addEventListener("message",({data:e})=>{if(e&&e.event==="game-library-search"){const{keyword:t}=e;this.addSearchHistory({result:t})}})},methods:{computeCur(){const e=location.pathname;e.match(/dandanjun_list/)||e.match(/^\/(store)?(\/index.html)?\/?$/)?(this.cur=0,this.curPage=/dandanjun_list/.test(e)?"wegame_store_dandanjun_list":"wegame_store_store_index"):e.match(/^\/store\/games/)||e.match(/wegame_game_library/)?(this.cur=1,this.curPage="wegame_store_game_library"):e.match(/^\/rail\/wegame_test_index/)?(this.cur=2,this.curPage="testing_game_index_page"):e.match(/^\/rail\/console_games/)?(this.cur=4,this.curPage="wegame_store_console_games"):e.match(/^\/rail\/online_games/)?(this.cur=5,this.curPage="wegame_store_online_games"):e.match(/^\/store\/players_recommend/)?(this.cur=7,this.curPage="wegame_store_players_recommend"):e.match(/^\/store\/\d+/)?this.curPage="wegame_store_game_detail":e.match(/^\/rail\/developer_detail/)?this.curPage="wegame_store_developer_detail":e.match(/^\/rail\/rank_detail/)?this.curPage="wegame_store_rank_detail":e.match(/^\/rail\/new_games/)?this.curPage="wegame_store_new_games":this.curPage=e.split("/").filter(Boolean).join("_")},checkHasAct(){this.act=!!document.querySelector("body.store-act-show"),new MutationObserver(t=>{t.forEach(n=>{this.act=n.target.classList.contains("store-act-show")})}).observe(document.body,{attributes:!0,childList:!1,attributeFilter:["class"]})},parseIconData(e=[]){const t={};return e.forEach(n=>{const{time_begin:r,time_end:s,entry:o,icon:l}=n,i=Date.now(),u=He(r)||i-1e3,d=He(s)||i+1e3;i>u&&i<d&&(t[o]=l)}),t},search(e,t,n){let r=e.result;const o={sub_action:location.pathname.split("/").pop().split(".")[0],search_key_word:r};this.hasOssSearchTag&&!r?(e=this.searchtag,r=e.realResult||e.result,t="default",o.search_key_word=r,o.game_id=e.game_id,o.task_id=e.item_id):t=="hot_search"?(o.game_id=e.game_id?e.game_id:0,o.task_id=e.item_id?e.item_id:0,n!=null&&(o.position_id=n+1)):r&&t=="input"&&(o.game_id=0,o.task_id=0),r&&this.addSearchHistory(e),typeof t<"u"&&(o.search_type=t),this.report(["header","search"],o);const{game_id:l,position_id:i=0,task_id:u}=o,d={page:this.curPage,block:`header_search_${t}`,report_info:r,game_id:l,pos_id:i,task_id:u};if(Z(d),e.custom){no(e.custom);return}let c=`/store/games?from=store_index.header.search.${this.curPage}&search_key_word=${encodeURIComponent(r)}`;t=="hot_search"&&(n!=null?c+=`&hot_search=${Number(n+1)}`:c+="&hot_search=1"),e.url?window.open(e.url,"wegame_action"):y.jump({app:"50000013",page:c})},isWallpaperTag(e){return!!e&&e.indexOf("wallpaper")>-1},loadData(){return Dn({tables:[{data_names:"store_searchtags"},{data_names:"store_head_operation"},{data_names:"store_head_icon"},{data_names:"category_info"},{data_names:"store_nav_tab_config"},{data_names:"store_custom_search"}]}).then(t=>t?.result?.error_code===0?t:{}).catch(()=>({}))},addSearchHistory(e){let t=[{result:e.result,url:e.url,custom:e.custom}];for(let n=0;n<this.searchHistory.length;n++){const r=this.searchHistory[n];r.result!=e.result&&t.push({result:r.result,url:r.url,custom:r.custom})}t=t.slice(0,3),this.searchHistory=t,ie("searched-keywrod-obj",JSON.stringify(t))},removeSearchHistory(e){const t=[];for(let n=0;n<this.searchHistory.length;n++)this.searchHistory[n].result!=e.result&&t.push(this.searchHistory[n]);this.searchHistory=t,ie("searched-keywrod-obj",JSON.stringify(t)),this.focusIndex=-1},wheelScroll(e){const{deltaY:t}=e,n=this.$refs.searchBox.offsetHeight,r=this.$refs.searchBox.scrollHeight,s=this.$refs.searchBox.scrollTop;r!=n&&(t>0&&s>=r-n||t<0&&s<=0)&&(e.stopPropagation(),e.preventDefault())},hideSelect(){document.getElementById("site-header-input")?.blur(),this.isShowDropDown&&(this.hasFocus=!1,this.isShowDropDown=!1,this.isInit||(this.isInit=!0))},showTags(){this.hasOperationList&&(this.showTagList=!0)},hideTags(){this.hasOperationList&&(this.showTagList=!1)},focusSearchInput(){if(this.isShowDropDown=!0,this.hasFocus===!1){let e="";const t=[],n=[],r={};this.hotSearchList.forEach((s,o)=>{const l=o*1+1;e+=`${l}_${s.html}#`,t.push(`${l}_${s.game_id?s.game_id:0}`),n.push(`${l}_${s.item_id?s.item_id:0}`)}),r.hot_search_position=e.substring(0,e.length-1),r.task_id=n.join("$"),r.gameids=t.join("$"),this.report(["hot_search","display"],r)}this.hasFocus=!0},blurSearchInput(){this.hasFocus=!1,this.defaultSearch=this.searchtag.result},removeAllSearchHistory(){this.searchHistory=[],ie("searched-keywrod-obj",JSON.stringify([])),this.focusIndex=-1},init(e){const t=e,n=t.category_info||[],r=t.store_head_operation||[];let s=t.store_searchtags||[];const o=t.store_head_icon||[],l=t.store_nav_tab_config||[];this.navIcons=this.parseIconData(o);const i=WEGAME.env.isWeGame?"1":"2";s=s.filter(d=>d.exclude!==i),s.sort((d,c)=>(Number(c.position)||0)-(Number(d.position)||0)),this.resp={store_head_operation:r,store_searchtags:s,category_info:n,store_nav_tab_config:l},s&&(this.tagList=s.slice(0,5).map(d=>{const c=Number(d.need_highlight)===1;return{name:d.tag,svg_id:d.svg_id||null,item_id:d.item_id||0,game_id:Number(d.type)===2&&d.v?d.v:0,needHighLight:c,icon_text:d.icon_text}})),this.customSearch=(t.store_custom_search||[]).map(d=>({...d,words:(d.detect_word||"").split("|")})),this.doSearchTagsDisplayReport(),this.formatOperationList(r,n);const u=Lt("searched-keywrod-obj");if(u)try{this.searchHistory=JSON.parse(u)}catch{}return!1},initHotRecommend(e){const t=[{}];let n=0;const r=[];e.forEach(s=>{const o=s.game_name,l=s.search_game_name,i=s.url?{jump_url_type:s.jump_url_type,jump_appid:s.jump_appid,jump_url:s.url}:null;s.position===0?(this.hasOssSearchTag=!0,this.searchtag={realResult:l,result:o,url:s.url,item_id:s.item_id,game_id:s.game_id,custom:i},this.defaultSearch=this.searchtag.result,this.doDefaultSearchDisplayReport()):s.position>-1?t[s.position]={html:o,result:l||o,url:s.url,game_id:s.game_id,item_id:s.item_id,isNew:Number(s.is_new)===1,custom:i}:s.position===-1?this.remainSearchList.push({...s,custom:i,html:o,result:l||o}):r.push({...s,custom:i})});for(let s=0;s<6;s++)if(!t[s]){const o=r[n];o?.game_name&&(t[s]={html:o.game_name,result:o.search_game_name||o.game_name,custom:o.custom},n+=1)}this.hotSearchList=t.filter(s=>!!s).slice(1,6)},formatOperationList(e,t){const n=t.length;e.forEach(r=>{r.weights=Number(r.weights);for(let s=0;s<n;s++)r.data_name===t[s].data_name&&(r.category_id=t[s].category_id)}),t=t.filter(r=>e.findIndex(s=>r.data_name===s.data_name)==-1),t.forEach(r=>{r.weights=r.order_priority*1,r.title=r.category_name}),this.operationList=e.concat(t),this.operationList.sort((r,s)=>Number(r.weights)-Number(s.weights))},trackHeaderNav(e){Z({page:this.curPage,block:"header_navigation",report_info:e})},jumpToPickGame(){y.jump({app:"50000013",page:"/store"}),this.report(["header","goto_pickgame"],{},{sendBeacon:!0}),this.trackHeaderNav("goto_pickgame")},jumpToPlayersRecommend(){y.jump({app:"50000013",page:"/store/players_recommend.html"}),this.report(["header","goto_players_recommend"],{},{sendBeacon:!0}),this.trackHeaderNav("goto_players_recommend")},jumpToConsolePage(){y.jump({app:"50000013",page:"/rail/console_games.html"}),this.report(["header","goto_console_games"],{},{sendBeacon:!0}),this.trackHeaderNav("goto_console_games")},jumpToOnlinePage(){y.jump({app:"50000013",page:"/rail/online_games.html"}),this.report(["header","goto_online_games"],{},{sendBeacon:!0}),this.trackHeaderNav("goto_online_games")},jumpToPcAndMobile(){y.jump({app:"50000013",page:"/rail/wegame_functional_games.html?aid=824"}),this.report(["header","goto_pc_and_mobile"],{},{sendBeacon:!0}),this.trackHeaderNav("goto_pc_and_mobile")},jumpToTestingGame(){const t=window.storeState?.highlightGames?.length?"with_red_dot":"";y.jump({app:"50000019",page:"/rail/wegame_test_index.html"}),this.report(["header","goto_testinggame",t],{},{sendBeacon:!0})},jumpToAllGame(e,t=""){let n="";t!=""&&(n=`cat=${t}&`);const r=`/store/games?${n}from=store_index.header.allgame.${this.curPage}`;y.jump({app:"50000013",page:r}),this.report(["header","goto_allgame"],{},{sendBeacon:!0}),this.trackHeaderNav("goto_allgame")},jumpToDetail(e,t,n){const r=`/store/${e.v}?from=store_index.header_searchtag.${t}.${n}.${this.curPage}`;y.jump({app:"50000013",page:r})},jumpToTag(e,t){const n=this.resp.store_searchtags[t],r="/store/games",s=n.item_id;if(n.type.toString()==="2")this.jumpToDetail(n,t,s);else if(n.type==="3")if(n.appid){if(on()&&n.v.toLowerCase().includes("cfhd"))return this.jumpToDetail({v:"2"},t,s);y.jump({app:n.appid,page:n.v})}else y.action(102,{url:n.v});else if(n.type==="4"){let i=Number(n.type);(i<0||i>3)&&(i=3),y.jump({app:"50000013",page:`${r}?sort=${i}`})}else{const i={app:"50000013",page:`${r}?tag=${encodeURIComponent(e.name)}`};if(WEGAME.env.isWeGame&&Mn.getUrlPara("tag")){const u=new Date().getTime().toString().substring(6);i.page=`${i.page}&mark=${u}`}if(n.v)try{const u=JSON.parse(n.v);y.jump(u)}catch{y.jump(i)}else y.jump(i)}const o=location.pathname.split("/").pop().split(".")[0],l={game_id:e.game_id,task_id:e.item_id};this.report(["header","goto_tag"],{tag:e.name,posid:t,position_id:t+1,type:"recommend_tags",sub_action:o,...l},{sendBeacon:!0}),Z({page:this.curPage,block:"header_goto_tag",report_info:e.name,pos_id:t+1,...l})},getFakeHref(e,t){const n=this.resp.store_searchtags[t];let r="/store/games";return[...new Map([[/^2_[3|1|5]$/,()=>{r=`/store/${n.v}`}],[/^3_/,()=>{r=n.v}]])].filter(([l])=>l.test(`${n.type}_${n.game_type||""}`)).forEach(([,l])=>l.call(this)),r},jumpToOperation(e){if(e.url){const{url:t}=e;if(t.indexOf("rank_detail.html")>-1){y.goToRankDetail({page:"/rail/rank_detail.html",from:this.curPage}),this.report(["header","click_dropdown_menu","goto_rank_detail"],{},{sendBeacon:!0}),this.trackHeaderNav("goto_rank_detail");return}e.app_id?y.jump({app:String(e.app_id),page:rn(t)}):y.action(102,{url:t})}else this.jumpToAllGame(null,e.category_id?e.category_id:"");this.report(["header","click_dropdown_menu",e.title],{},{sendBeacon:!0}),this.trackHeaderNav(e.title)},doSearchTagsDisplayReport(){if(!this.tagList.length)return;const e=[],t=[],n={};this.tagList.forEach((r,s)=>{e.push(`${s+1}_${r.game_id}`),t.push(`${s+1}_${r.item_id}`)}),n.gameids=e.join("$"),n.task_id=t.join("$"),this.report(["search_tags","display"],n)},doDefaultSearchDisplayReport(){const e=this.searchtag,t={game_id:e.game_id?e.game_id:0,task_id:e.item_id};this.report(["default_search","display"],t)},moveFocusIndex(e){if(!(e<=0&&this.focusIndex===-1)&&!(e>0&&this.focusIndex===this.items.length+this.searchHistory.length+this.hotSearchList.length-1)){if(this.typeMode=1,this.focusIndex+=e,this.focusIndex===-1)this.keyWord=this.lastTypeKeyword;else if(this.focusIndex<this.items.length){const t=this.items[this.focusIndex].html;this.keyWord=this.extractContentFromHtml(t)}else this.focusIndex<this.items.length+this.searchHistory.length?this.keyWord=this.searchHistory[this.focusIndex-this.items.length].result:this.keyWord=this.hotSearchList[this.focusIndex-this.items.length-this.searchHistory.length].result;this.$nextTick(()=>{const t=document.querySelector("#dropdown-menu li.hover"),n=document.getElementById("dropdown-menu");if(!t)return;const r=n.offsetHeight,s=t.offsetHeight,o=t.getBoundingClientRect().bottom-n.getBoundingClientRect().top,l=t.getBoundingClientRect().top-n.getBoundingClientRect().top;o>r&&(n.scrollTop=n.scrollTop+s),l<=0&&(n.scrollTop=Math.max(0,n.scrollTop-s))})}},iconText(e){let t="";return(e||"").split("").forEach(n=>{this.strlen(t+n)<=4&&(t=t+n)}),t},strlen(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=1&&r<=126||65376<=r&&r<=65439?t+=1:t+=2}return t},bindScrollListener(){this.targetScrollEl&&this.targetScrollEl.removeEventListener("scroll",this.scrollListener),this.frWrapperOb&&(this.frWrapperOb.disconnect(),this.frWrapperOb=null);const e=(this.act||!WEGAME.env.isWeGame?window:document.querySelector("#scroll-element"))||window;this.targetScrollEl=e;const t=document.body;let n,r,s;const o=()=>(this.bgIsLoaded=t.classList.contains("page-ibanner"),this.bgIsLoaded||(this.frWrapperOb=new MutationObserver(i=>{i.forEach(u=>{this.bgIsLoaded=u.target.classList.contains("page-ibanner")})}),this.frWrapperOb.observe(t,{attributes:!0,childList:!1,attributeFilter:["class"]})),!0),l=()=>typeof e.scrollTop<"u"?e.scrollTop:document.documentElement.scrollTop;e.addEventListener("scroll",this.scrollListener=Fs(()=>{const i=l();if(n=n||document.querySelector(".fr-header"),r=r||document.querySelector("#frWrapper"),s=s||o(),this.hideSelect(),i===0){n.classList.remove("fr-header-normal"),t.classList.remove(le);return}n.classList.add("fr-header-normal"),!(this.curPage==="wegame_store_store_index"&&this.bgIsLoaded&&!t.classList.contains("page-ibanner--mini"))&&this.isWeGame&&(i>170?t.classList.add(le):t.classList.remove(le))},150),{passive:!0})},extractContentFromHtml(e){const t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]?.innerHTML||""},loadPopover(){this.popoverLoaded||(this.popoverLoadTimer=setTimeout(()=>{this.popoverLoaded=!0,this.popoverLoadTimer=null},200))},cancelLoadPopover(){this.popoverLoadTimer&&clearTimeout(this.popoverLoadTimer)}}},oo={class:"store-headernav fr-header txp_video_hide"},io={class:"home-nav home-navnew"},ao={class:"tui-nav"},lo={class:"main-nav"},co={key:0,class:"ico-promo"},uo=["src"],mo={class:"drop"},po={href:"javascript:void(0);"},ho=a("span",{class:"caret"},null,-1),_o={class:"ico-promo"},go=a("img",{src:so,alt:""},null,-1),fo=[go],vo={class:"turn-r"},yo={class:"hot-search"},bo=["href","onClick"],wo={key:0,class:"icon"},ko={class:"hot-search-txt"},So={key:1,class:"tag-spc-workds"},To={class:"tui-search has-animate"},Eo=["placeholder"],Oo=a("span",{class:"tui-search-submit-main"},null,-1),jo=a("span",{class:"tui-search-submit-inner"},null,-1),Ao=[Oo,jo],Po={key:0,id:"searchBoxDropDown"},Co=["onClick"],Io=["innerHTML"],Do={key:1},Lo={class:"dropdown-menu-tit"},xo=["textContent"],$o=["onClick"],Go=["onClick"],Ho={class:"search-assn hot"},Ro=["textContent"],Mo=["onClick"];function No(e,t,n,r,s,o){const l=Y("menu-popover"),i=Y("CustomTabs"),u=Y("wallpaper-icon"),d=ht("clickoutside");return v(),b("header",oo,[a("div",io,[a("nav",ao,[a("ul",lo,[a("li",{class:j({cur:s.cur===0})},[a("a",{href:"/store",onClick:t[0]||(t[0]=w((...c)=>o.jumpToPickGame&&o.jumpToPickGame(...c),["prevent"]))},[ee(h(e.$t("selection"))+" ",1),s.navIcons[0]?(v(),b("span",co,[a("img",{src:s.navIcons[0]},null,8,uo)])):I("",!0)])],2),a("li",{class:j({cur:s.cur===7})},[a("a",{href:"/store/players_recommend.html",onClick:t[1]||(t[1]=w((...c)=>o.jumpToPlayersRecommend&&o.jumpToPlayersRecommend(...c),["prevent"]))},[a("span",null,h(e.$t("gameRecommend")),1)])],2),a("li",{onMouseenter:t[2]||(t[2]=(...c)=>o.loadPopover&&o.loadPopover(...c)),onMouseleave:t[3]||(t[3]=(...c)=>o.cancelLoadPopover&&o.cancelLoadPopover(...c))},[a("div",mo,[a("a",po,[ee(h(e.$t("categories"))+" ",1),ho,te(a("i",_o,fo,512),[[_t,!1]])]),ne(l,{"cur-page":s.curPage,"popover-loaded":s.popoverLoaded},null,8,["cur-page","popover-loaded"])])],32),ne(i,{tabs:s.resp.store_nav_tab_config||[],"cur-page":s.curPage},null,8,["tabs","cur-page"])])]),a("div",vo,[a("div",yo,[(v(!0),b($,null,H(s.tagList,(c,p)=>(v(),b("a",{key:p,href:o.getFakeHref(c.name,p),class:j({"link-primary":c.needHighLight}),onClick:w(k=>o.jumpToTag(c,p),["prevent"])},[o.isWallpaperTag(c.svg_id)?(v(),b("span",wo,[ne(u)])):I("",!0),a("span",ko,h(c.name),1),c.icon_text?(v(),b("span",So,[a("i",null,h(o.iconText(c.icon_text)),1)])):I("",!0)],10,bo))),128))]),te(a("div",To,[a("p",{class:j(["tui-search-input search-input--store",{focus:s.isShowDropDown,value:s.keyWord.length>0}])},[te(a("input",{id:"site-header-input","onUpdate:modelValue":t[4]||(t[4]=c=>s.keyWord=c),type:"text",value:"",maxlength:"20",autocomplete:"off",placeholder:s.defaultSearch,onKeyup:t[5]||(t[5]=se(c=>o.search(s.keyWordObj,"input"),["enter"])),onKeydown:[t[6]||(t[6]=se(w(c=>o.moveFocusIndex(-1),["prevent"]),["up"])),t[7]||(t[7]=se(c=>o.moveFocusIndex(1),["down"]))],onFocus:t[8]||(t[8]=(...c)=>o.focusSearchInput&&o.focusSearchInput(...c)),onBlur:t[9]||(t[9]=(...c)=>o.blurSearchInput&&o.blurSearchInput(...c))},null,40,Eo),[[gt,s.keyWord,void 0,{trim:!0}]]),a("i",{class:"icon icon-delete",style:ft({display:s.keyWord.length?"block":"none"}),onClick:t[10]||(t[10]=c=>s.keyWord="")},null,4),a("span",{class:j(["tui-search-submit",{focus:s.isShowDropDown}]),onClick:t[11]||(t[11]=c=>o.search(s.keyWordObj,"input"))},Ao,2)],2),a("div",{id:"dropdown-menu",ref:"searchBox",class:j(["dropdown-menu",{show:s.isShowDropDown,off:!s.isShowDropDown&&!s.isInit}]),onWheel:t[13]||(t[13]=c=>o.wheelScroll(c))},[s.items.length>0?(v(),b("ul",Po,[(v(!0),b($,null,H(s.items,(c,p)=>(v(),b("li",{key:p,class:j({hover:p===s.focusIndex}),onClick:k=>o.search(c,"input")},[a("a",{href:"javascript:;",innerHTML:c.html},null,8,Io)],10,Co))),128))])):I("",!0),s.searchHistory.length?(v(),b("ul",Do,[a("div",Lo,[a("span",{textContent:h(e.$t("recentSearch"))},null,8,xo),a("span",{class:"clear-search",onClick:t[12]||(t[12]=c=>o.removeAllSearchHistory())})]),(v(!0),b($,null,H(s.searchHistory,(c,p)=>(v(),b("li",{key:p,class:j({hover:p+s.items.length===s.focusIndex})},[a("a",{href:"javascript:;",onClick:k=>o.search(c,"input")},h(c.result),9,$o),a("i",{class:"icon-close",onClick:k=>o.removeSearchHistory(c)},null,8,Go)],2))),128))])):I("",!0),a("div",Ho,[a("p",{class:"assn-tit",textContent:h(e.$t("hotSearch"))},null,8,Ro),a("ul",null,[(v(!0),b($,null,H(s.hotSearchList,(c,p)=>(v(),b("li",{key:p,class:j({hover:p+s.items.length+s.searchHistory.length===s.focusIndex}),onClick:k=>o.search(c,"hot_search",p)},[a("div",null,[a("i",{class:j(["tag-num","num"+(p+1)])},null,2),ee(" "+h(c.html),1)])],10,Mo))),128))])])],34)],512),[[d,o.hideSelect]])])])])}const Wo=Je(ro,[["render",No]]),B=[],C=Symbol("clickoutsideContext");let ce;function ue(e,t){return e?e===t?!0:ue(e.parentNode,t):!1}if(WEGAME.env.isBrowser){const e=function(){return document.addEventListener?function(t,n,r){t&&n&&r&&t.addEventListener(n,r,!1)}:function(t,n,r){t&&n&&r&&t.attachEvent(`on${n}`,r)}}();e(document,"mousedown",t=>ce=t),e(document,"mouseup",t=>{ce&&B.forEach(n=>n[C].documentHandler(t,ce))})}const Bo={beforeMount(e,t,n){const r=B.push(e)-1,s=function(o,l){!n.el||ue(o.target,n.el)||ue(l.target,n.el)||(t.expression&&e[C].methodName&&n.context[e[C].methodName]?n.context[e[C].methodName]():e[C].bindingFn&&e[C].bindingFn())};e[C]={id:r,documentHandler:s,methodName:t.expression,bindingFn:t.value}},updated(e,t){e[C].methodName=t.expression,e[C].bindingFn=t.value},unmounted(e){const t=B.length;for(let n=0;n<t;n++)if(B[n][C].id===e[C].id){B.splice(n,1);break}}};Ct(Wo,({app:e})=>{e.use(at),e.directive("clickoutside",Bo)},{useHead:!1,rootContainer:"#site-header"});
